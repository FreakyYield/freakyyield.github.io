<!DOCTYPE html>
<html>
<head>
    <title></title>
</head>
<body>
    <div id="key"></div>

    <script>
        async function gen_key() {
            const rand_bytes = crypto.getRandomValues(new Uint8Array(32));
            const hash_buf = await crypto.subtle.digest('SHA-256', rand_bytes);
            const hash_arr = Array.from(new Uint8Array(hash_buf));
            const hash_hex = hash_arr.map(b => b.toString(16).padStart(2, '0')).join('');
            return hash_hex;
        }

        gen_key().then(key => {
            document.getElementById('key').textContent = key;
        });
    </script>
</body>
</html>
