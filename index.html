<!DOCTYPE html>
<html>
<head>
    <title></title>
</head>
<body>
    <div id="key"></div>

    <script>
        async function gen_key() {
            const rand_bytes = crypto.getRandomValues(new Uint8Array(32));
            const hash_buf = await crypto.subtle.digest('SHA-256', rand_bytes);
            const hash_arr = Array.from(new Uint8Array(hash_buf));
            return hash_arr.map(b => b.toString(16).padStart(2, '0')).join('');
        }

        const params = new URLSearchParams(window.location.search);
        const linkvertise_ok = params.has('linkvertise') && params.get('1') === 'true';

        if (linkvertise_ok) {
            gen_key().then(key => {
                document.getElementById('key').textContent = key;
            });
        } else {
            document.getElementById('key').textContent = "Don't bypass";
        }
    </script>
</body>
</html>
